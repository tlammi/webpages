(this.webpackJsonpnummirock=this.webpackJsonpnummirock||[]).push([[0],{170:function(t,e,n){},171:function(t,e,n){},324:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(9),i=n.n(a),s=(n(170),n(171),n(160)),o=n(342),j=n(54),l=n(10),u=n(345),b=n(31),h=n(355),m=n(2);var O=function(t){return t.children?Object(m.jsx)(o.a,Object(b.a)(Object(b.a)({},t),{},{children:t.children})):Object(m.jsx)(o.a,Object(b.a)(Object(b.a)({},t),{},{children:Object(m.jsx)(h.a,{width:"100%",height:"100%",bgcolor:"background"})}))};var x=Object(u.a)((function(t){return{wallPaperContainer:{height:"100vh",backgroundColor:t.palette.background},wallPaper:{animation:"$fadein 2s",height:"100%",maxWidth:"100%",position:"absolute",bottom:0,objectFit:"cover"},wallPaperText:{position:"absolute",bottom:"0",maxHeight:"40%",maxWidth:"100%",animation:"$fadein 2s forwards",animationDelay:"0.5s",opacity:0},"@keyframes fadein":{"0%":{opacity:0},"100%":{opacity:1}}}}));var d=function(){var t=x();return Object(m.jsxs)(O,{container:!0,item:!0,className:t.wallPaperContainer,children:[Object(m.jsx)(O,{item:!0,xs:!1,md:1}),Object(m.jsxs)(O,{item:!0,container:!0,xs:12,md:10,direction:"column",alignItems:"center",children:[Object(m.jsx)("img",{src:"https://www.nummirock.fi/2017/images/Etusivu_tausta_2021_desktop-C.jpg",className:t.wallPaper,alt:"Nummirock"}),Object(m.jsx)("img",{src:"https://nummirock.fi/2017/images/otsikko-PVM-levea-2021C.png",className:t.wallPaperText,alt:""})]}),Object(m.jsx)(O,{item:!0,xs:!1,md:1})]})},f=n(18),p=n(64),g=n.n(p),v=n(105),y="./resources.json";function k(){return(k=Object(v.a)(g.a.mark((function t(){var e,n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching news"),t.next=3,fetch(y);case 3:return e=t.sent,t.next=6,e.text();case 6:return n=t.sent,c=JSON.parse(n),t.abrupt("return",c.news);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return C.apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark((function t(){var e,n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching bands"),t.next=3,fetch(y);case 3:return e=t.sent,t.next=6,e.text();case 6:return n=t.sent,c=JSON.parse(n),t.abrupt("return",c.bands);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=n.p+"static/media/band_placeholder.f758ac6d.png",S=Object(u.a)({imgWrapper:{animation:"$fade-in 1s forwards",opacity:0},img:{maxWidth:"100%",transition:"all 0.2s ease-out","&:hover":{opacity:.7,transition:"all 0.2s ease-out"}},"@keyframes fade-in":{"0%":{opacity:0},"100%":{opacity:1}}});var _=function(t){var e,n=t.variant?t.variant:"big",c=S(),r=t.link?t.link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ?autoplay=1",a=t.img?t.img:N,i=t.delay?t.delay:"0s",s="small"===(e=n)?[12,6,3]:"mid"===e?[12,6,4]:("big"===e||console.error("Invalid variant "+e),[12,12,6]),o=Object(f.a)(s,3),j=o[0],l=o[1],u=o[2];return Object(m.jsx)(O,{item:!0,container:!0,justifyContent:"center",xs:j,sm:l,md:u,className:c.imgWrapper,style:{animationDelay:i},children:Object(m.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:Object(m.jsx)("img",{src:a,className:c.img,alt:"Band"})})})},E=n(346),P=n(109),H=Object(P.a)((function(t){return{root:{minHeight:"60vh",color:t.palette.text.primary},spacer:{minHeight:"10vh"}}}));var F=function(t){var e=H();return Object(m.jsxs)(O,{item:!0,container:!0,className:e.root,direction:"column",justifyContent:"center",children:[Object(m.jsx)(O,{item:!0,style:{textAlign:"center"},children:Object(m.jsx)(E.a,{variant:"h2",style:{fontFamily:"nummirock_2013_custom_3Rg"},children:t.header})}),Object(m.jsx)(O,{item:!0,className:e.spacer}),t.children]})};var T=function(){var t=Object(c.useState)(),e=Object(f.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){return w().then((function(t){return r(function(t){return t.big.concat(t.mid).concat(t.small).slice(0,4).map((function(t,e){var n=(.2*e).toString()+"s";return Object(m.jsx)(_,{delay:n,variant:"small",img:t.src},e)}))}(t))}))}),[]),Object(m.jsx)(F,{header:"Ohjelma",children:Object(m.jsxs)(O,{item:!0,container:!0,direction:"row",justifyContent:"space-between",children:[Object(m.jsx)(O,{item:!0,xs:1}),Object(m.jsx)(O,{item:!0,container:!0,xs:10,justifyContent:"center",spacing:4,children:n}),Object(m.jsx)(O,{item:!0,xs:1})]})})},B=n(348),W=n(349),D=n(106),I=n.n(D),J=n.p+"static/media/news_placeholder.b807f064.md",L=n(157),$=n.n(L),z=n(158),A=n.n(z),M=Object(P.a)((function(t){return{root:{animation:"$fade-in 3s forwards",opacity:0,color:t.palette.text.primary},collapseButton:{color:t.palette.text.primary},"@keyframes fade-in":{"0%":{opacity:0},"100%":{opacity:1}}}}));function Q(t){var e=Object(c.useState)(!0),n=Object(f.a)(e,2),r=n[0],a=n[1],i=Object(c.useState)(""),s=Object(f.a)(i,2),o=s[0],j=s[1],l=Object(c.useState)(""),u=Object(f.a)(l,2),b=u[0],h=u[1],x=t.url?t.url:J,d=t.delay?t.delay:"0s",p=M(),g=r?Object(m.jsx)($.a,{}):Object(m.jsx)(A.a,{});return Object(c.useEffect)((function(){return fetch(x).then((function(t){return t.text()})).then((function(t){var e=function(t){return[t.substr(0,100),t.substr(100)]}(t),n=Object(f.a)(e,2),c=n[0],r=n[1];j(c),h(r)}))}),[x]),Object(m.jsxs)(O,{item:!0,xs:12,md:6,xl:4,className:p.root,style:{animationDelay:d},children:[Object(m.jsx)(B.a,{in:!r,collapsedSize:"145px",children:Object(m.jsx)(I.a,{children:o+b})}),Object(m.jsx)(W.a,{onClick:function(){return a(!r)},className:p.collapseButton,children:g})]})}var U=Object(u.a)({root:{minHeight:"100vh"}});var R=function(){var t=U(),e=Object(c.useState)(),n=Object(f.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){return function(){return k.apply(this,arguments)}().then((function(t){return a(function(t){var e=[];return t.slice(0,3).forEach((function(t,n){e.push(Object(m.jsx)(Q,{url:t,delay:.2*(n+1)+"s"},n))})),e}(t))}))}),[]),Object(m.jsx)(F,{className:t.root,header:"Uutiset",children:Object(m.jsxs)(O,{item:!0,container:!0,children:[Object(m.jsx)(O,{item:!0,xs:1}),Object(m.jsx)(O,{container:!0,item:!0,xs:10,spacing:2,justifyContent:"center",children:r}),Object(m.jsx)(O,{item:!0,xs:1})]})})},V=n(55),X=n(350),q=n(354),G=n(353),K=n(351),Y=n(352),Z=n(159),tt=n.n(Z),et=Object(P.a)((function(t){return{root:{textDecoration:"none",color:t.palette.text.primary}}}));var nt=function(t){var e=et();return Object(m.jsx)(j.b,Object(b.a)(Object(b.a)({className:e.root,underline:"none"},t),{},{children:t.children}))},ct=Object(P.a)((function(t){return{root:{background:t.palette.primary.main,"&:hover":{background:t.palette.primary.light}}}}));var rt=function(){var t=Object(c.useState)(null),e=Object(f.a)(t,2),n=e[0],r=e[1],a=Object(V.a)(),i=ct(),s=Object(X.a)(a.breakpoints.up("sm")),o=function(t){r(t.currentTarget)},j=function(t){r(null)},l=["Uutiset","Ohjelma","Info"].map((function(t,e){var n=t.toLowerCase();return Object(m.jsx)(nt,{to:n,children:Object(m.jsx)(q.a,{className:i.root,children:Object(m.jsx)(E.a,{variant:"h6",children:t})},e)})})),u=s?l:Object(m.jsxs)("div",{children:[Object(m.jsx)(W.a,{onClick:o,children:Object(m.jsx)(tt.a,{})}),Object(m.jsx)(G.a,{disableScrollLock:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:j,children:l})]});return Object(m.jsx)(K.a,{position:"sticky",children:Object(m.jsxs)(Y.a,{children:[Object(m.jsx)(nt,{to:"",children:Object(m.jsx)(q.a,{children:Object(m.jsx)("img",{src:"https://www.nummirock.fi/2017/images/Otsikon_grafiikat_Alasivu_1_2021.png",style:{height:"32px"},alt:"Home"})})}),Object(m.jsx)("div",{style:{flex:1}}),u]})})},at=Object(P.a)((function(t){return{root:{backgroundColor:t.palette.background}}}));var it=function(t){var e=at();return Object(m.jsxs)("div",{className:e.root,children:[Object(m.jsx)(rt,{}),t.children]})};var st=function(){var t=Object(c.useState)(),e=Object(f.a)(t,2),n=e[0],r=e[1];return Object(c.useEffect)((function(){return w().then((function(t){return r(function(t){var e=[];return["big","mid","small"].forEach((function(n){t[n].forEach((function(t,c){e.push(Object(m.jsx)(_,{img:t.src,link:t.link,variant:n,delay:"".concat(.05*c,"s")},c))}))})),e}(t))}))}),[]),Object(m.jsxs)(O,{container:!0,item:!0,direction:"row",style:{backgroundColor:"black"},children:[Object(m.jsx)(O,{xs:!1,md:1,lg:2}),Object(m.jsx)(O,{xs:12,md:10,lg:8,item:!0,container:!0,justifyContent:"center",spacing:4,children:n}),Object(m.jsx)(O,{xs:!1,md:1,lg:2})]})};var ot=Object(l.f)((function(t){var e=t.history;return Object(c.useEffect)((function(){var t=e.listen((function(){window.scrollTo(0,0)}));return function(){t()}}),[e]),null})),jt=n(347),lt=n(21),ut=Object(s.a)({palette:{primary:{main:"rgb(0, 0, 0)",light:"rgb(30, 30, 30)",contrastText:"rgb(255, 255, 255)"},text:{primary:"rgb(255, 255, 255)"},background:"black"}});function bt(){return Object(m.jsx)(it,{children:Object(m.jsxs)(o.a,{container:!0,direction:"column",children:[Object(m.jsx)(d,{}),Object(m.jsx)(o.a,{item:!0,style:{minHeight:"10vh"}}),Object(m.jsx)(T,{}),Object(m.jsx)(o.a,{item:!0,style:{minHeight:"10vh"}}),Object(m.jsx)(R,{}),Object(m.jsx)(o.a,{item:!0,style:{minHeight:"10px"}})]})})}function ht(){return Object(m.jsx)(it,{children:"this is news"})}function mt(){return Object(m.jsx)(it,{children:Object(m.jsx)(st,{})})}function Ot(){return Object(m.jsx)(it,{children:"this is info"})}function xt(){var t=Object(lt.a)({basename:"./#/"});return Object(m.jsx)(j.a,{history:t,children:Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(ot,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{exact:!0,path:"/",children:Object(m.jsx)(bt,{})}),Object(m.jsx)(l.a,{exact:!0,path:"/uutiset",children:Object(m.jsx)(ht,{})}),Object(m.jsx)(l.a,{exact:!0,path:"/ohjelma",children:Object(m.jsx)(mt,{})}),Object(m.jsx)(l.a,{exact:!0,path:"/info",children:Object(m.jsx)(Ot,{})})]})]})})}var dt=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("link",{rel:"stylesheet",href:"https://www.nummirock.fi/2017/fonts.css",type:"text/css"}),Object(m.jsx)(jt.a,{theme:ut,children:Object(m.jsx)(xt,{})})]})},ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,356)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),a(t),i(t)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(dt,{})}),document.getElementById("root")),ft()}},[[324,1,2]]]);
//# sourceMappingURL=main.198a4631.chunk.js.map